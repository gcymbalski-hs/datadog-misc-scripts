{
    "author_handle": "dylan@joinhandshake.com",
    "author_name": "Dylan Andersen",
    "created_at": "2022-03-14T21:15:33.991746+00:00",
    "description": "",
    "id": "fhg-g8d-c6u",
    "is_read_only": false,
    "layout_type": "ordered",
    "modified_at": "2022-06-15T16:49:00.062857+00:00",
    "notify_list": [],
    "reflow_type": "fixed",
    "restricted_roles": [],
    "template_variables": [],
    "title": "WIP - Dylans Dashboard",
    "url": "/dashboard/fhg-g8d-c6u/wip---dylans-dashboard",
    "widgets": [
        {
            "definition": {
                "requests": [
                    {
                        "ci_pipeline_query": {
                            "compute": {
                                "aggregation": "count"
                            },
                            "group_by": [],
                            "index": "cipipeline",
                            "search": {
                                "query": "env:none @git.repository.id:\"github.com/joinhandshake/handshake\" @ci.pipeline.name:handshake @ci.provider.instance:buildkite @git.branch:main ci_level:pipeline"
                            }
                        },
                        "display_type": "bars",
                        "style": {
                            "palette": "dog_classic"
                        }
                    }
                ],
                "show_legend": false,
                "title": "",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries"
            },
            "id": 533059252389539,
            "layout": {
                "height": 2,
                "width": 4,
                "x": 0,
                "y": 0
            }
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "formulas": [
                            {
                                "formula": "query1"
                            }
                        ],
                        "queries": [
                            {
                                "compute": {
                                    "aggregation": "median",
                                    "interval": 172800000,
                                    "metric": "@duration"
                                },
                                "data_source": "ci_pipelines",
                                "group_by": [
                                    {
                                        "facet": "@ci.pipeline.name",
                                        "limit": 50,
                                        "sort": {
                                            "aggregation": "median",
                                            "metric": "@duration",
                                            "order": "desc"
                                        }
                                    }
                                ],
                                "indexes": [
                                    "*"
                                ],
                                "name": "query1",
                                "search": {
                                    "query": "ci_level:pipeline @git.branch:main @ci.status:success ci_partial_retry:false @ci.pipeline.name:handshake"
                                }
                            }
                        ],
                        "response_format": "timeseries",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    }
                ],
                "show_legend": false,
                "title": "Median Daily Build Time",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 2195905221590284,
            "layout": {
                "height": 2,
                "width": 4,
                "x": 4,
                "y": 0
            }
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "formulas": [
                            {
                                "formula": "query1"
                            },
                            {
                                "formula": "query2"
                            }
                        ],
                        "queries": [
                            {
                                "compute": {
                                    "aggregation": "median",
                                    "interval": 172800000,
                                    "metric": "@duration"
                                },
                                "data_source": "ci_pipelines",
                                "group_by": [
                                    {
                                        "facet": "@ci.pipeline.name",
                                        "limit": 50,
                                        "sort": {
                                            "aggregation": "median",
                                            "metric": "@duration",
                                            "order": "desc"
                                        }
                                    }
                                ],
                                "indexes": [
                                    "*"
                                ],
                                "name": "query1",
                                "search": {
                                    "query": "ci_level:pipeline @git.branch:main @ci.status:success ci_partial_retry:false @ci.pipeline.name:handshake"
                                }
                            },
                            {
                                "compute": {
                                    "aggregation": "max",
                                    "interval": 172800000,
                                    "metric": "@duration"
                                },
                                "data_source": "ci_pipelines",
                                "group_by": [
                                    {
                                        "facet": "@ci.pipeline.name",
                                        "limit": 50,
                                        "sort": {
                                            "aggregation": "max",
                                            "metric": "@duration",
                                            "order": "desc"
                                        }
                                    }
                                ],
                                "indexes": [
                                    "*"
                                ],
                                "name": "query2",
                                "search": {
                                    "query": "ci_level:pipeline @git.branch:main ci_partial_retry:false @ci.pipeline.name:handshake"
                                }
                            }
                        ],
                        "response_format": "timeseries",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    }
                ],
                "show_legend": false,
                "time": {},
                "title": "Median Daily Build Time",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 5343137935294422,
            "layout": {
                "height": 2,
                "width": 4,
                "x": 8,
                "y": 0
            }
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "markers": [],
                "requests": [
                    {
                        "display_type": "bars",
                        "formulas": [
                            {
                                "formula": "query1"
                            }
                        ],
                        "queries": [
                            {
                                "data_source": "metrics",
                                "name": "query1",
                                "query": "sum:trace.rack.request.hits{project:handshake-production,region:us-central1,!resource_name:next::*,!resource_name:*_307,!resource_name:*_403,!resource_name:get_*,service:handshake} by {resource_name}.as_count()"
                            }
                        ],
                        "response_format": "timeseries",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    }
                ],
                "show_legend": true,
                "title": "Total Monolith requests",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 8306903280335030,
            "layout": {
                "height": 2,
                "width": 4,
                "x": 0,
                "y": 2
            }
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "formulas": [
                            {
                                "formula": "query1"
                            }
                        ],
                        "queries": [
                            {
                                "compute": {
                                    "aggregation": "avg",
                                    "interval": 86400000,
                                    "metric": "@duration"
                                },
                                "data_source": "ci_pipelines",
                                "group_by": [
                                    {
                                        "facet": "@ci.pipeline.name",
                                        "limit": 50,
                                        "sort": {
                                            "aggregation": "avg",
                                            "metric": "@duration",
                                            "order": "desc"
                                        }
                                    }
                                ],
                                "indexes": [
                                    "*"
                                ],
                                "name": "query1",
                                "search": {
                                    "query": "ci_level:job @git.branch:main @ci.pipeline.name:handshake"
                                }
                            }
                        ],
                        "response_format": "timeseries",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    }
                ],
                "show_legend": false,
                "title": "Job Status Over Time",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 4796394589682886,
            "layout": {
                "height": 2,
                "width": 4,
                "x": 4,
                "y": 2
            }
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "formulas": [
                            {
                                "formula": "query1"
                            }
                        ],
                        "queries": [
                            {
                                "compute": {
                                    "aggregation": "median",
                                    "interval": 172800000,
                                    "metric": "@duration"
                                },
                                "data_source": "ci_pipelines",
                                "group_by": [
                                    {
                                        "facet": "@ci.pipeline.name",
                                        "limit": 50,
                                        "sort": {
                                            "aggregation": "median",
                                            "metric": "@duration",
                                            "order": "desc"
                                        }
                                    }
                                ],
                                "indexes": [
                                    "*"
                                ],
                                "name": "query1",
                                "search": {
                                    "query": "ci_level:pipeline @git.branch:main @ci.status:success ci_partial_retry:false @ci.pipeline.name:handshake"
                                }
                            }
                        ],
                        "response_format": "timeseries",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    }
                ],
                "show_legend": false,
                "title": "Median Daily Build Time",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 2880496629227618,
            "layout": {
                "height": 2,
                "width": 4,
                "x": 8,
                "y": 2
            }
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "markers": [],
                "requests": [
                    {
                        "display_type": "bars",
                        "formulas": [
                            {
                                "formula": "query1"
                            }
                        ],
                        "queries": [
                            {
                                "data_source": "metrics",
                                "name": "query1",
                                "query": "sum:trace.rack.request.hits{project:handshake-production,region:us-central1,!resource_name:next::*,resource_name:*post_307,service:handshake} by {resource_name}.as_count()"
                            }
                        ],
                        "response_format": "timeseries",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    }
                ],
                "show_legend": true,
                "title": "Total Monolith 307s",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 690223786859652,
            "layout": {
                "height": 2,
                "width": 4,
                "x": 0,
                "y": 4
            }
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "markers": [],
                "requests": [
                    {
                        "display_type": "bars",
                        "formulas": [
                            {
                                "formula": "query1"
                            }
                        ],
                        "queries": [
                            {
                                "data_source": "metrics",
                                "name": "query1",
                                "query": "sum:handshake.hsn.redirect.monolith_to_miniservice{project:handshake-production,region:us-central1,*} by {controller,action}.as_count()"
                            }
                        ],
                        "response_format": "timeseries",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    }
                ],
                "show_legend": true,
                "title": "Monolith to Miniservice byController / Action",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 56365620560132,
            "layout": {
                "height": 2,
                "width": 4,
                "x": 4,
                "y": 4
            }
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "markers": [],
                "requests": [
                    {
                        "display_type": "bars",
                        "formulas": [
                            {
                                "formula": "query1"
                            }
                        ],
                        "queries": [
                            {
                                "data_source": "metrics",
                                "name": "query1",
                                "query": "sum:trace.rack.request.hits{$project,$region,!resource_name:next::*,resource_name:*_307,service:handshake} by {resource_name}.as_count()"
                            }
                        ],
                        "response_format": "timeseries",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    }
                ],
                "show_legend": false,
                "title": "Median Daily Build Time",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 1572178536387652,
            "layout": {
                "height": 2,
                "width": 4,
                "x": 8,
                "y": 4
            }
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "markers": [],
                "requests": [
                    {
                        "display_type": "bars",
                        "formulas": [
                            {
                                "formula": "query1"
                            }
                        ],
                        "queries": [
                            {
                                "data_source": "metrics",
                                "name": "query1",
                                "query": "sum:trace.rack.request.hits{service:handshake,project:handshake-production,region:us-central1} by {http.status_code}.as_count()"
                            }
                        ],
                        "response_format": "timeseries",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    }
                ],
                "show_legend": true,
                "title": "Total Requests for all endpoints",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 4290381163878670,
            "layout": {
                "height": 2,
                "width": 4,
                "x": 0,
                "y": 6
            }
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "requests": [
                    {
                        "display_type": "bars",
                        "formulas": [
                            {
                                "formula": "query1"
                            }
                        ],
                        "queries": [
                            {
                                "data_source": "metrics",
                                "name": "query1",
                                "query": "sum:trace.rack.request.hits.by_http_status{env:production,region:us-central1,service:handshake} by {http.status_code}.as_count()"
                            }
                        ],
                        "response_format": "timeseries",
                        "style": {
                            "palette": "warm"
                        }
                    }
                ],
                "show_legend": false,
                "title": "Http Request Status",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries"
            },
            "id": 2827690730947488,
            "layout": {
                "height": 2,
                "width": 4,
                "x": 8,
                "y": 6
            }
        }
    ]
}