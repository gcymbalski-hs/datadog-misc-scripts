{
    "author_handle": "pierre@joinhandshake.com",
    "author_name": "Pierre Maris",
    "created_at": "2020-12-08T21:47:06.267329+00:00",
    "description": "",
    "id": "e5c-wuv-eg3",
    "is_read_only": false,
    "layout_type": "ordered",
    "modified_at": "2021-10-12T02:12:02.650780+00:00",
    "notify_list": [],
    "reflow_type": "auto",
    "restricted_roles": [],
    "template_variables": [],
    "title": "[Student] Job recommendations",
    "url": "/dashboard/e5c-wuv-eg3/student-job-recommendations",
    "widgets": [
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "formulas": [
                            {
                                "alias": "Email sent",
                                "formula": "query1"
                            }
                        ],
                        "on_right_yaxis": false,
                        "queries": [
                            {
                                "data_source": "metrics",
                                "name": "query1",
                                "query": "sum:handshake.job_recommendation.sent{*}.as_count()"
                            }
                        ],
                        "response_format": "timeseries",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    },
                    {
                        "display_type": "line",
                        "formulas": [
                            {
                                "alias": "Email send failed",
                                "formula": "query1"
                            }
                        ],
                        "on_right_yaxis": false,
                        "queries": [
                            {
                                "data_source": "metrics",
                                "name": "query1",
                                "query": "sum:handshake.job_recommendation.email_failed{*}.as_count()"
                            }
                        ],
                        "response_format": "timeseries",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "warm"
                        }
                    },
                    {
                        "display_type": "line",
                        "formulas": [
                            {
                                "alias": "User already processed",
                                "formula": "query1"
                            }
                        ],
                        "on_right_yaxis": false,
                        "queries": [
                            {
                                "data_source": "metrics",
                                "name": "query1",
                                "query": "sum:handshake.job_recommendation.email_already_processed{*}"
                            }
                        ],
                        "response_format": "timeseries",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "warm"
                        }
                    }
                ],
                "show_legend": true,
                "time": {},
                "title": "Email sends",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 7432419032532030
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "formulas": [
                            {
                                "alias": "Push notification sent",
                                "formula": "query1"
                            }
                        ],
                        "on_right_yaxis": false,
                        "queries": [
                            {
                                "data_source": "metrics",
                                "name": "query1",
                                "query": "sum:handshake.job_recommendation.push_notification_sent{*}.as_count()"
                            }
                        ],
                        "response_format": "timeseries",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    },
                    {
                        "display_type": "line",
                        "formulas": [
                            {
                                "alias": "Send failed",
                                "formula": "query1"
                            }
                        ],
                        "queries": [
                            {
                                "data_source": "metrics",
                                "name": "query1",
                                "query": "sum:handshake.job_recommendation.push_notification_failed{*}.as_count()"
                            }
                        ],
                        "response_format": "timeseries",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    },
                    {
                        "display_type": "line",
                        "formulas": [
                            {
                                "alias": "User already processed",
                                "formula": "query1"
                            }
                        ],
                        "queries": [
                            {
                                "data_source": "metrics",
                                "name": "query1",
                                "query": "sum:handshake.job_recommendation.push_notification_already_processed{*}.as_count()"
                            }
                        ],
                        "response_format": "timeseries",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    },
                    {
                        "display_type": "line",
                        "formulas": [
                            {
                                "alias": "Can't send push to user (User hasn't used app or has disabled the notification preference)",
                                "formula": "query1"
                            }
                        ],
                        "on_right_yaxis": false,
                        "queries": [
                            {
                                "data_source": "metrics",
                                "name": "query1",
                                "query": "sum:handshake.job_recommendation.cant_send_push_notification_to_user{*}.as_count()"
                            }
                        ],
                        "response_format": "timeseries",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "purple"
                        }
                    },
                    {
                        "display_type": "line",
                        "formulas": [
                            {
                                "formula": "query1"
                            }
                        ],
                        "on_right_yaxis": false,
                        "queries": [
                            {
                                "data_source": "metrics",
                                "name": "query1",
                                "query": "sum:handshake.job_recommendation.cant_send_push_notification_to_user{*}.as_count()"
                            }
                        ],
                        "response_format": "timeseries",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "purple"
                        }
                    }
                ],
                "show_legend": true,
                "title": "Push notification sends",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 8111039707667414
        },
        {
            "definition": {
                "legend_layout": "auto",
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "metadata": [
                            {
                                "alias_name": "Emails",
                                "expression": "avg:gcp.pubsub.subscription.num_unacked_messages_by_region{subscription_id:job-digest-to-mail}"
                            }
                        ],
                        "q": "avg:gcp.pubsub.subscription.num_unacked_messages_by_region{subscription_id:job-digest-to-mail}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    },
                    {
                        "display_type": "line",
                        "metadata": [
                            {
                                "alias_name": "Push notifications",
                                "expression": "avg:gcp.pubsub.subscription.num_unacked_messages_by_region{subscription_id:job-digest-push-notifications}"
                            }
                        ],
                        "q": "avg:gcp.pubsub.subscription.num_unacked_messages_by_region{subscription_id:job-digest-push-notifications}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    }
                ],
                "show_legend": true,
                "title": "Remaining messages to process",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 7958010594862014
        },
        {
            "definition": {
                "legend_layout": "auto",
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "metadata": [
                            {
                                "alias_name": "Emails",
                                "expression": "avg:gcp.pubsub.subscription.ack_message_count{subscription_id:job-digest-to-mail}"
                            }
                        ],
                        "q": "avg:gcp.pubsub.subscription.ack_message_count{subscription_id:job-digest-to-mail}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    },
                    {
                        "display_type": "line",
                        "metadata": [
                            {
                                "alias_name": "Push notifications",
                                "expression": "avg:gcp.pubsub.subscription.ack_message_count{subscription_id:job-digest-push-notifications}"
                            }
                        ],
                        "q": "avg:gcp.pubsub.subscription.ack_message_count{subscription_id:job-digest-push-notifications}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    }
                ],
                "show_legend": true,
                "title": "Message acknowledgment rate",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 7419908693967086
        },
        {
            "definition": {
                "legend_layout": "auto",
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "metadata": [
                            {
                                "alias_name": "Retries",
                                "expression": "avg:handshake.job_recommendation.deadline_exceeded{*}.as_count()"
                            }
                        ],
                        "q": "avg:handshake.job_recommendation.deadline_exceeded{*}.as_count()",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    },
                    {
                        "display_type": "line",
                        "metadata": [
                            {
                                "alias_name": "Maximum retries exceeded",
                                "expression": "avg:handshake.job_recommendation.max_retries_exceeded{*}.as_count()"
                            }
                        ],
                        "q": "avg:handshake.job_recommendation.max_retries_exceeded{*}.as_count()",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    }
                ],
                "show_legend": true,
                "title": "Message acknowledgment errors",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 7405726115872440
        }
    ]
}