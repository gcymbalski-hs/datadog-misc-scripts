{
    "author_handle": "clau@joinhandshake.com",
    "author_name": "Chris Lau",
    "created_at": "2022-08-16T16:45:31.299412+00:00",
    "description": "",
    "id": "5qy-rfa-if4",
    "is_read_only": false,
    "layout_type": "ordered",
    "modified_at": "2022-08-24T18:09:02.613460+00:00",
    "notify_list": [],
    "reflow_type": "fixed",
    "restricted_roles": [],
    "template_variables": [],
    "title": "Monolith Postgres Replication Lag",
    "url": "/dashboard/5qy-rfa-if4/monolith-postgres-replication-lag",
    "widgets": [
        {
            "definition": {
                "requests": [
                    {
                        "formulas": [
                            {
                                "formula": "query1",
                                "limit": {
                                    "count": 500,
                                    "order": "desc"
                                }
                            }
                        ],
                        "queries": [
                            {
                                "aggregator": "avg",
                                "data_source": "metrics",
                                "name": "query1",
                                "query": "avg:gcp.cloudsql.database.replication.replica_lag{project_id:handshake-uk-staging} by {replica,database_id}"
                            }
                        ],
                        "response_format": "scalar"
                    }
                ],
                "time": {},
                "title": "",
                "title_align": "left",
                "title_size": "16",
                "type": "query_table"
            },
            "id": 2601284336666913,
            "layout": {
                "height": 2,
                "width": 12,
                "x": 0,
                "y": 0
            }
        },
        {
            "definition": {
                "background_color": "vivid_green",
                "layout_type": "ordered",
                "show_title": true,
                "title": "handshake-staging",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:gcp.cloudsql.database.cpu.utilization{database_id:handshake-staging:handshake-polished-hornet} by {database_id}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "CPU - handshake-polished-hornet",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 776218089195930,
                        "layout": {
                            "height": 4,
                            "width": 6,
                            "x": 0,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:gcp.cloudsql.database.replication.replica_lag{database_id:handshake-staging:handshake-*,!database_id:handshake-staging:handshake-rational-kite} by {database_id}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Replication Lag - handshake-staging:handshake-*",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 1503665339943466,
                        "layout": {
                            "height": 4,
                            "width": 6,
                            "x": 6,
                            "y": 0
                        }
                    }
                ]
            },
            "id": 4318748625983878,
            "layout": {
                "height": 5,
                "width": 12,
                "x": 0,
                "y": 2
            }
        },
        {
            "definition": {
                "background_color": "vivid_green",
                "layout_type": "ordered",
                "show_title": true,
                "title": "handshake-uk-staging",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:gcp.cloudsql.database.cpu.utilization{database_id:handshake-uk-staging:handshake-above-porpoise} by {database_id}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "CPU - handshake-above-porpoise",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 6459297947169222,
                        "layout": {
                            "height": 4,
                            "width": 6,
                            "x": 0,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:gcp.cloudsql.database.replication.replica_lag{database_id:handshake-uk-staging:handshake-*,!replica_purpose:data,replica:true} by {database_id}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Replication Lag - handshake-uk-staging:handshake-*",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 2359463926998082,
                        "layout": {
                            "height": 4,
                            "width": 6,
                            "x": 6,
                            "y": 0
                        }
                    }
                ]
            },
            "id": 2005466309156844,
            "layout": {
                "height": 5,
                "width": 12,
                "x": 0,
                "y": 7
            }
        },
        {
            "definition": {
                "background_color": "vivid_green",
                "layout_type": "ordered",
                "show_title": true,
                "title": "handshake-demo",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:gcp.cloudsql.database.cpu.utilization{database_id:handshake-demo:handshake-generous-boar} by {database_id}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "CPU - handshake-generous-boar",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 4532108715260402,
                        "layout": {
                            "height": 4,
                            "width": 6,
                            "x": 0,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:gcp.cloudsql.database.replication.replica_lag{database_id:handshake-demo:handshake-*,!database_id:handshake-demo:handshake-emerging-humpback} by {database_id}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Replication Lag - handshake-demo:handshake-*",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 4692625534275798,
                        "layout": {
                            "height": 4,
                            "width": 6,
                            "x": 6,
                            "y": 0
                        }
                    }
                ]
            },
            "id": 3996890531331660,
            "layout": {
                "height": 5,
                "width": 12,
                "x": 0,
                "y": 12
            }
        },
        {
            "definition": {
                "background_color": "vivid_green",
                "layout_type": "ordered",
                "show_title": true,
                "title": "handshake-uk-production",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:gcp.cloudsql.database.cpu.utilization{database_id:handshake-uk-production:handshake-funky-wombat} by {database_id}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "CPU - handshake-funky-wombat",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 6765588841049582,
                        "layout": {
                            "height": 4,
                            "width": 6,
                            "x": 0,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:gcp.cloudsql.database.replication.replica_lag{database_id:handshake-uk-production:handshake-*,!replica_purpose:data,replica:true} by {database_id}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Replication Lag - handshake-uk-production:handshake-*",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 481354125760250,
                        "layout": {
                            "height": 4,
                            "width": 6,
                            "x": 6,
                            "y": 0
                        }
                    }
                ]
            },
            "id": 1218951753964454,
            "layout": {
                "height": 5,
                "width": 12,
                "x": 0,
                "y": 17
            }
        },
        {
            "definition": {
                "background_color": "vivid_green",
                "layout_type": "ordered",
                "show_title": true,
                "title": "handshake-production",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:gcp.cloudsql.database.cpu.utilization{database_id:handshake-production:handshake-brave-mayfly} by {database_id}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "CPU - handshake-brave-mayfly",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 3697625789182958,
                        "layout": {
                            "height": 4,
                            "width": 6,
                            "x": 0,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:gcp.cloudsql.database.replication.replica_lag{database_id:handshake-production:handshake-*,!database_id:handshake-production:handshake-star-lamb} by {database_id}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Replication Lag - handshake-production:handshake-*",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 3736993513023106,
                        "layout": {
                            "height": 4,
                            "width": 6,
                            "x": 6,
                            "y": 0
                        }
                    }
                ]
            },
            "id": 2741200483197086,
            "layout": {
                "height": 5,
                "width": 12,
                "x": 0,
                "y": 22
            }
        }
    ]
}