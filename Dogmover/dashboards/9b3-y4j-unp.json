{
    "author_handle": "scott@joinhandshake.com",
    "author_name": "Scott Ringwelski",
    "created_at": "2019-02-19T17:31:01.797795+00:00",
    "description": "",
    "id": "9b3-y4j-unp",
    "is_read_only": false,
    "layout_type": "free",
    "modified_at": "2022-04-27T14:18:28.960445+00:00",
    "notify_list": [
        "scott@joinhandshake.com"
    ],
    "restricted_roles": [],
    "template_variables": [],
    "title": "Infrastructure Monitoring (Office TV)",
    "url": "/dashboard/9b3-y4j-unp/infrastructure-monitoring-office-tv",
    "widgets": [
        {
            "definition": {
                "events": [
                    {
                        "q": "tags:(\"deploy:true\" AND \"environment:production\")",
                        "tags_execution": "and"
                    }
                ],
                "legend_size": "0",
                "markers": [],
                "requests": [
                    {
                        "display_type": "bars",
                        "q": "sum:envoy.http.ingress_http.downstream_rq_2xx{*}.as_count()",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    },
                    {
                        "display_type": "bars",
                        "q": "sum:envoy.http.ingress_http.downstream_rq_3xx{*}.as_count()",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    },
                    {
                        "display_type": "bars",
                        "q": "sum:envoy.http.ingress_http.downstream_rq_4xx{*}.as_count()",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    },
                    {
                        "display_type": "bars",
                        "q": "sum:envoy.http.ingress_http.downstream_rq_5xx{*}.as_count()",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    }
                ],
                "show_legend": false,
                "time": {},
                "title": "All Requests by Status",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 5711855887448109,
            "layout": {
                "height": 19,
                "width": 50,
                "x": 50,
                "y": 55
            }
        },
        {
            "definition": {
                "legend_size": "0",
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "q": "sum:gcp.pubsub.subscription.num_undelivered_messages{*} by {subscription_id}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    }
                ],
                "show_legend": false,
                "time": {},
                "title": "Pubsub Subscription Sizes",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 3147587099100827,
            "layout": {
                "height": 15,
                "width": 49,
                "x": 101,
                "y": 0
            }
        },
        {
            "definition": {
                "requests": [
                    {
                        "conditional_formats": [],
                        "q": "top(avg:gcp.dataflow.job.system_lag{*} by {job_name,project_id}, 10, 'mean', 'desc')"
                    }
                ],
                "time": {},
                "title": "Dataflow Job Lag",
                "title_align": "left",
                "title_size": "16",
                "type": "toplist"
            },
            "id": 6248580704421761,
            "layout": {
                "height": 17,
                "width": 49,
                "x": 101,
                "y": 16
            }
        },
        {
            "definition": {
                "legend_size": "0",
                "markers": [
                    {
                        "display_type": "error dashed",
                        "value": "y = 0.8"
                    }
                ],
                "requests": [
                    {
                        "display_type": "line",
                        "q": "avg:gcp.cloudsql.database.cpu.utilization{*} by {database_id,project_id}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    }
                ],
                "show_legend": false,
                "time": {},
                "title": "Database CPU Usage",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 2478191045121302,
            "layout": {
                "height": 17,
                "width": 49,
                "x": 101,
                "y": 34
            }
        },
        {
            "definition": {
                "legend_size": "0",
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "q": "(ewma_3(derivative(avg:elasticsearch.search.query.time{*} by {es-cluster-name}))*1000)/ewma_3(derivative(avg:elasticsearch.search.query.total{*} by {es-cluster-name}))",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    }
                ],
                "show_legend": false,
                "time": {},
                "title": "Query Time Avg by ES Cluster",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 5051830248082086,
            "layout": {
                "height": 22,
                "width": 49,
                "x": 101,
                "y": 52
            }
        },
        {
            "definition": {
                "color_preference": "text",
                "count": 50,
                "display_format": "countsAndList",
                "hide_zero_counts": true,
                "query": "",
                "show_last_triggered": false,
                "sort": "status,asc",
                "start": 0,
                "title": "Monitor Statuses",
                "title_align": "left",
                "title_size": "13",
                "type": "manage_status"
            },
            "id": 7388728387894264,
            "layout": {
                "height": 25,
                "width": 50,
                "x": 50,
                "y": 19
            }
        },
        {
            "definition": {
                "query": "tags:(\"deploy:true\" AND \"environment:production\")",
                "tags_execution": "and",
                "time": {
                    "live_span": "1d"
                },
                "title": "",
                "title_align": "left",
                "title_size": "16",
                "type": "event_timeline"
            },
            "id": 4325750129853535,
            "layout": {
                "height": 9,
                "width": 50,
                "x": 50,
                "y": 45
            }
        },
        {
            "definition": {
                "show_error_budget": true,
                "slo_id": "7a1a9aa70d2150b4a862cc20a8c994de",
                "time_windows": [
                    "7d",
                    "30d",
                    "90d"
                ],
                "title": "Production Availability",
                "title_align": "left",
                "title_size": "16",
                "type": "slo",
                "view_mode": "both",
                "view_type": "detail"
            },
            "id": 6064007284230136,
            "layout": {
                "height": 20,
                "width": 50,
                "x": 50,
                "y": 0
            }
        },
        {
            "definition": {
                "display_format": "one_column",
                "env": "production",
                "service": "handshake",
                "show_breakdown": true,
                "show_distribution": false,
                "show_errors": true,
                "show_hits": true,
                "show_latency": true,
                "show_resource_list": false,
                "size_format": "medium",
                "span_name": "rack.request",
                "time": {},
                "title": "Main App Web",
                "title_align": "left",
                "title_size": "16",
                "type": "trace_service"
            },
            "id": 593893319000481,
            "layout": {
                "height": 74,
                "width": 49,
                "x": 0,
                "y": 0
            }
        }
    ]
}