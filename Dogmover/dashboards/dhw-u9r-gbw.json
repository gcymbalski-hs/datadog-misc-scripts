{
    "author_handle": "jvollmer@joinhandshake.com",
    "author_name": "Jon Vollmer",
    "created_at": "2022-06-28T00:16:56.271351+00:00",
    "description": "## Title\n\nDescribe this dashboard. Add links to other dashboards, monitors, wikis,  and docs to help your teammates. Markdown is supported.\n\n- [This might link to a dashboard](#)\n- [This might link to a wiki](#)",
    "id": "dhw-u9r-gbw",
    "is_read_only": false,
    "layout_type": "ordered",
    "modified_at": "2022-08-24T15:12:16.145092+00:00",
    "notify_list": [],
    "reflow_type": "fixed",
    "restricted_roles": [],
    "template_variables": [],
    "title": "Notifications Miniservice",
    "url": "/dashboard/dhw-u9r-gbw/notifications-miniservice",
    "widgets": [
        {
            "definition": {
                "layout_type": "ordered",
                "show_title": true,
                "title": "Notifications Event Handler Metrics",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:notifications.handler_base.process.timing.95percentile{*} by {event_type}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": false,
                            "title": "NotificationsHandler Latency p95 by EventType",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 4839708130809345,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 0,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:notifications.handler_base.process.timing.median{*} by {event_type}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": false,
                            "title": "NotificationsHandler Latency p50 by EventType",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 3929446932478239,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 4,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "bars",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        },
                                        {
                                            "formula": "query2"
                                        },
                                        {
                                            "formula": "query3"
                                        },
                                        {
                                            "formula": "query4"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:notifications.route.InAppNotificationRoute.can_handle{env:production}.as_count()"
                                        },
                                        {
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "query": "avg:notifications.route.CareerServicesNotificationRoute.can_handle{env:production}.as_count()"
                                        },
                                        {
                                            "data_source": "metrics",
                                            "name": "query3",
                                            "query": "avg:notifications.route.EmployerNotificationRoute.can_handle{env:production*}.as_count()"
                                        },
                                        {
                                            "data_source": "metrics",
                                            "name": "query4",
                                            "query": "avg:notifications.route.StudentNotificationRoute.can_handle{env:production}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": false,
                            "title": "Notification Routes can_handle Count",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 3695717184286613,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 8,
                            "y": 0
                        }
                    }
                ]
            },
            "id": 6186253432161764,
            "layout": {
                "height": 3,
                "width": 12,
                "x": 0,
                "y": 0
            }
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "requests": [
                    {
                        "display_type": "line",
                        "formulas": [
                            {
                                "formula": "query1"
                            }
                        ],
                        "queries": [
                            {
                                "data_source": "metrics",
                                "name": "query1",
                                "query": "avg:notifications.handler_notification_preference.process.timing.95percentile{env:production} by {event_type}"
                            }
                        ],
                        "response_format": "timeseries",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    }
                ],
                "show_legend": true,
                "title": "BaseNotificationPreferenceHandler Latency p95 By EventType",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries"
            },
            "id": 310932013582138,
            "layout": {
                "height": 2,
                "width": 4,
                "x": 0,
                "y": 0
            }
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "requests": [
                    {
                        "display_type": "line",
                        "formulas": [
                            {
                                "formula": "query1"
                            }
                        ],
                        "queries": [
                            {
                                "data_source": "metrics",
                                "name": "query1",
                                "query": "avg:notifications.handler_notification_preference.process.timing.median{env:production} by {event_type}"
                            }
                        ],
                        "response_format": "timeseries",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    }
                ],
                "show_legend": true,
                "title": "BaseNotificationPreferenceHandler Latency p50 By EventType",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries"
            },
            "id": 7330423229483148,
            "layout": {
                "height": 2,
                "width": 4,
                "x": 4,
                "y": 0
            }
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "requests": [
                    {
                        "display_type": "line",
                        "formulas": [
                            {
                                "formula": "query1"
                            },
                            {
                                "formula": "query2"
                            }
                        ],
                        "queries": [
                            {
                                "data_source": "metrics",
                                "name": "query1",
                                "query": "avg:notifications.handler_synced_to_iterable.process.timing.95percentile{env:production}"
                            },
                            {
                                "data_source": "metrics",
                                "name": "query2",
                                "query": "avg:notifications.handler_synced_to_iterable.process.timing.median{env:production}"
                            }
                        ],
                        "response_format": "timeseries",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    }
                ],
                "show_legend": true,
                "title": "SyncedToIterableHandler Latency",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries"
            },
            "id": 304616988600520,
            "layout": {
                "height": 2,
                "width": 4,
                "x": 8,
                "y": 0
            }
        },
        {
            "definition": {
                "layout_type": "ordered",
                "show_title": true,
                "title": "[DEP] hsn-handshake-notifications",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "has_search_bar": "auto",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "cell_display_mode": "bar",
                                            "conditional_formats": [],
                                            "formula": "query1",
                                            "limit": {
                                                "count": 500,
                                                "order": "desc"
                                            }
                                        },
                                        {
                                            "cell_display_mode": "bar",
                                            "conditional_formats": [],
                                            "formula": "query2"
                                        },
                                        {
                                            "cell_display_mode": "bar",
                                            "conditional_formats": [],
                                            "formula": "query3"
                                        },
                                        {
                                            "cell_display_mode": "bar",
                                            "conditional_formats": [],
                                            "formula": "query4"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "apm_resource_stats",
                                            "env": "production",
                                            "group_by": [
                                                "resource_name"
                                            ],
                                            "name": "query1",
                                            "operation_name": "inbox_hsn_handshake_notifications_consumer",
                                            "service": "handshake-notifications",
                                            "stat": "hits"
                                        },
                                        {
                                            "data_source": "apm_resource_stats",
                                            "env": "production",
                                            "group_by": [
                                                "resource_name"
                                            ],
                                            "name": "query2",
                                            "operation_name": "inbox_hsn_handshake_notifications_consumer",
                                            "service": "handshake-notifications",
                                            "stat": "errors"
                                        },
                                        {
                                            "data_source": "apm_resource_stats",
                                            "env": "production",
                                            "group_by": [
                                                "resource_name"
                                            ],
                                            "name": "query3",
                                            "operation_name": "inbox_hsn_handshake_notifications_consumer",
                                            "service": "handshake-notifications",
                                            "stat": "error_rate"
                                        },
                                        {
                                            "data_source": "apm_resource_stats",
                                            "env": "production",
                                            "group_by": [
                                                "resource_name"
                                            ],
                                            "name": "query4",
                                            "operation_name": "inbox_hsn_handshake_notifications_consumer",
                                            "service": "handshake-notifications",
                                            "stat": "latency_max"
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "title": "hsn-handshake-notifications",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "query_table"
                        },
                        "id": 6424194404333464,
                        "layout": {
                            "height": 2,
                            "width": 12,
                            "x": 0,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "autosmooth(query1)"
                                        },
                                        {
                                            "formula": "autosmooth(query2)"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "p95:trace.inbox_hsn_handshake_notifications_consumer{env:production}"
                                        },
                                        {
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "query": "p50:trace.inbox_hsn_handshake_notifications_consumer{env:production}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": false,
                            "title": "hsn-handshake-notifications Handler Latency p95/p50",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 1164332567809724,
                        "layout": {
                            "height": 2,
                            "width": 12,
                            "x": 0,
                            "y": 2
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:DEP.inbox.processed_event.count{subscription:hsn-handshake-notifications,env:production}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": false,
                            "title": "Processed Events Count",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 7847069891462472,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 0,
                            "y": 4
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:DEP.inbox.ignored_event.count{subscription:hsn-handshake-notifications,env:production}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "red"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Ignored Events Count (no handler found)",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 1147057943144356,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 4,
                            "y": 4
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "bars",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:DEP.inbox.rejected_event.count{subscription:hsn-handshake-notifications,env:production}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Rejected Events Count",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 3521193382312022,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 8,
                            "y": 4
                        }
                    }
                ]
            },
            "id": 426972569296564,
            "layout": {
                "height": 7,
                "width": 12,
                "x": 0,
                "y": 5
            }
        },
        {
            "definition": {
                "layout_type": "ordered",
                "show_title": true,
                "title": "[DEP] hsn-messaging-notifications",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "has_search_bar": "auto",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "cell_display_mode": "bar",
                                            "conditional_formats": [],
                                            "formula": "query1",
                                            "limit": {
                                                "count": 500,
                                                "order": "desc"
                                            }
                                        },
                                        {
                                            "cell_display_mode": "bar",
                                            "conditional_formats": [],
                                            "formula": "query2"
                                        },
                                        {
                                            "cell_display_mode": "bar",
                                            "conditional_formats": [],
                                            "formula": "query3"
                                        },
                                        {
                                            "cell_display_mode": "bar",
                                            "conditional_formats": [],
                                            "formula": "query4"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "apm_resource_stats",
                                            "env": "production",
                                            "group_by": [
                                                "resource_name"
                                            ],
                                            "name": "query1",
                                            "operation_name": "inbox_hsn_messaging_notifications_consumer",
                                            "service": "handshake-notifications",
                                            "stat": "hits"
                                        },
                                        {
                                            "data_source": "apm_resource_stats",
                                            "env": "production",
                                            "group_by": [
                                                "resource_name"
                                            ],
                                            "name": "query2",
                                            "operation_name": "inbox_hsn_messaging_notifications_consumer",
                                            "service": "handshake-notifications",
                                            "stat": "errors"
                                        },
                                        {
                                            "data_source": "apm_resource_stats",
                                            "env": "production",
                                            "group_by": [
                                                "resource_name"
                                            ],
                                            "name": "query3",
                                            "operation_name": "inbox_hsn_messaging_notifications_consumer",
                                            "service": "handshake-notifications",
                                            "stat": "error_rate"
                                        },
                                        {
                                            "data_source": "apm_resource_stats",
                                            "env": "production",
                                            "group_by": [
                                                "resource_name"
                                            ],
                                            "name": "query4",
                                            "operation_name": "inbox_hsn_messaging_notifications_consumer",
                                            "service": "handshake-notifications",
                                            "stat": "latency_max"
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "title": "hsn-messaging-notifications",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "query_table"
                        },
                        "id": 3491351875085870,
                        "layout": {
                            "height": 2,
                            "width": 12,
                            "x": 0,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "autosmooth(query1)"
                                        },
                                        {
                                            "formula": "autosmooth(query2)"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "p95:trace.inbox_hsn_messaging_notifications_consumer{env:production}"
                                        },
                                        {
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "query": "p50:trace.inbox_hsn_messaging_notifications_consumer{env:production}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "hsn-messaging-notifications Handler Latency p95/p50",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 8600728703724734,
                        "layout": {
                            "height": 2,
                            "width": 12,
                            "x": 0,
                            "y": 2
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:DEP.inbox.processed_event.count{subscription:hsn-messaging-notifications,env:production}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Processed Events Count",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 6038618338312714,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 0,
                            "y": 4
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:DEP.inbox.ignored_event.count{subscription:hsn-messaging-notifications,env:production}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "red"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Ignored Events Count (no handler found)",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 7535835803392696,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 4,
                            "y": 4
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "bars",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:DEP.inbox.rejected_event.count{subscription:hsn-messaging-notifications*}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Rejected Events Count",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 6399183079993288,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 8,
                            "y": 4
                        }
                    }
                ]
            },
            "id": 4632966187192006,
            "layout": {
                "height": 7,
                "width": 12,
                "x": 0,
                "y": 12
            }
        },
        {
            "definition": {
                "layout_type": "ordered",
                "show_title": true,
                "title": "[DEP] hsn-employer-notifications",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "autosmooth(query1)"
                                        },
                                        {
                                            "formula": "autosmooth(query2)"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "p95:trace.inbox_hsn_employer_notifications_consumer{env:production}"
                                        },
                                        {
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "query": "p50:trace.inbox_hsn_employer_notifications_consumer{env:production}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "hsn-employer-notifications Handler Latency p95/p50",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 1416683642568676,
                        "layout": {
                            "height": 2,
                            "width": 12,
                            "x": 0,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:DEP.inbox.processed_event.count{subscription:hsn-employer-notifications}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Processed Events Count",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 7328102603446710,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 0,
                            "y": 2
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:DEP.inbox.ignored_event.count{subscription:hsn-employer-notifications,env:production}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "red"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Ignored Events Count (no handler found)",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 2620323429526096,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 4,
                            "y": 2
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "bars",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:DEP.inbox.rejected_event.count{subscription:hsn-employer-notifications}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Rejected Events Count",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 6286966105677182,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 8,
                            "y": 2
                        }
                    }
                ]
            },
            "id": 6856220570969266,
            "layout": {
                "height": 1,
                "width": 12,
                "x": 0,
                "y": 19
            }
        },
        {
            "definition": {
                "layout_type": "ordered",
                "show_title": true,
                "title": "DEP Subscription/Handler Metrics",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:gcp.pubsub.subscription.backlog_bytes{subscription_id IN (hsn-handshake-notifications,hsn-messaging-notifications,hsn-employer-notifications)} by {subscription_id}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Message Backlog Size of NMS Subscriptions",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 3432680506605760,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 0,
                            "y": 0
                        }
                    }
                ]
            },
            "id": 8121333315283908,
            "layout": {
                "height": 3,
                "width": 12,
                "x": 0,
                "y": 20
            }
        },
        {
            "definition": {
                "layout_type": "ordered",
                "show_title": true,
                "title": "Interested Users Service Metrics",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "bars",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:handshake.interested_users_service.timing.count{env:production} by {event_type}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": false,
                            "title": "Average Interested User count by Event Type",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 2862992492981590,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 0,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        },
                                        {
                                            "formula": "query2"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:handshake.interested_users_service.timing.median{env:production}"
                                        },
                                        {
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "query": "avg:handshake.interested_users_service.timing.95percentile{env:production}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": false,
                            "title": "InterestedUsersService Latency p50/p95 ",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 1936009623253339,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 4,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:handshake.interested_users_service.timing.median{env:production} by {event_type}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": false,
                            "title": "InterestedUsersService Latency p50 by EventType",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 308997488456112,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 8,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:handshake.interested_users_service.timing.95percentile{env:production} by {event_type}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": false,
                            "title": "InterestedUsersService Latency p95 by EventType",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 4777297668440613,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 8,
                            "y": 2
                        }
                    }
                ]
            },
            "id": 1244471967917524,
            "layout": {
                "height": 5,
                "is_column_break": true,
                "width": 12,
                "x": 0,
                "y": 23
            }
        },
        {
            "definition": {
                "layout_type": "ordered",
                "show_title": true,
                "title": "Notifications Sidekiq Worker Metrics",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "bars",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:trace.sidekiq.job.hits{resource_name:next::notifications::createinappnotification,env:production}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "CreateInAppNotification Job Count",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 7851253537007034,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 0,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "bars",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:trace.sidekiq.job.errors{resource_name:next::notifications::createinappnotification,env:production}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "red"
                                    }
                                }
                            ],
                            "show_legend": false,
                            "title": "CreateInAppNotification Errors",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 2124374385250290,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 4,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "(query2 / query1) * 100"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "query": "sum:trace.sidekiq.job.errors{resource_name:next::notifications::createinappnotification,env:production}.as_count()"
                                        },
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:trace.sidekiq.job.hits{resource_name:next::notifications::createinappnotification,env:production}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "warm"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "time": {},
                            "title": "CreateInAppNotification Error Rate",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 4698430724844280,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 8,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "bars",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:trace.sidekiq.job.hits{resource_name:next::notifications::senditerableevent,env:production}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "SendIterableEvent Job Count",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 6182987251633832,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 0,
                            "y": 2
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "bars",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:trace.sidekiq.job.errors{resource_name:next::notifications::senditerableevent,env:production}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "red"
                                    }
                                }
                            ],
                            "show_legend": false,
                            "title": "SendIterableEvent Errors",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 6892640954579364,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 4,
                            "y": 2
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query2 / query1 * 100"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "query": "sum:trace.sidekiq.job.errors{resource_name:next::notifications::senditerableevent,env:production}.as_count()"
                                        },
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:trace.sidekiq.job.hits{resource_name:next::notifications::senditerableevent,env:production}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "warm"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "time": {},
                            "title": "SendIterableEvent Error Rate",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 7753515804198336,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 8,
                            "y": 2
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:trace.sidekiq.job.duration{resource_name:next::notifications::createinappnotification,env:production}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": false,
                            "title": "CreateInAppNotification Latency Average",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 1065386553907745,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 0,
                            "y": 4
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:trace.sidekiq.job.duration{resource_name:next::notifications::senditerableevent,env:production}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": false,
                            "title": "SendIterableEvent Latency Average",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 6334265669951119,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 4,
                            "y": 4
                        }
                    }
                ]
            },
            "id": 6552293731486412,
            "layout": {
                "height": 7,
                "width": 12,
                "x": 0,
                "y": 28
            }
        },
        {
            "definition": {
                "layout_type": "ordered",
                "show_title": true,
                "title": "IterableAPI",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "has_search_bar": "auto",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "cell_display_mode": "bar",
                                            "conditional_formats": [],
                                            "formula": "query1"
                                        },
                                        {
                                            "cell_display_mode": "bar",
                                            "conditional_formats": [],
                                            "formula": "query2",
                                            "limit": {
                                                "count": 500,
                                                "order": "desc"
                                            }
                                        },
                                        {
                                            "cell_display_mode": "bar",
                                            "conditional_formats": [],
                                            "formula": "query3"
                                        },
                                        {
                                            "cell_display_mode": "bar",
                                            "conditional_formats": [],
                                            "formula": "query4"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "apm_resource_stats",
                                            "env": "production",
                                            "group_by": [
                                                "resource_name"
                                            ],
                                            "name": "query1",
                                            "operation_name": "iterable.request",
                                            "service": "handshake-notifications",
                                            "stat": "hits"
                                        },
                                        {
                                            "data_source": "apm_resource_stats",
                                            "env": "production",
                                            "group_by": [
                                                "resource_name"
                                            ],
                                            "name": "query2",
                                            "operation_name": "iterable.request",
                                            "service": "handshake-notifications",
                                            "stat": "errors"
                                        },
                                        {
                                            "data_source": "apm_resource_stats",
                                            "env": "production",
                                            "group_by": [
                                                "resource_name"
                                            ],
                                            "name": "query3",
                                            "operation_name": "iterable.request",
                                            "service": "handshake-notifications",
                                            "stat": "error_rate"
                                        },
                                        {
                                            "data_source": "apm_resource_stats",
                                            "env": "production",
                                            "group_by": [
                                                "resource_name"
                                            ],
                                            "name": "query4",
                                            "operation_name": "iterable.request",
                                            "service": "handshake-notifications",
                                            "stat": "latency_max"
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "title": "Overview",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "query_table"
                        },
                        "id": 4676158673905576,
                        "layout": {
                            "height": 2,
                            "width": 12,
                            "x": 0,
                            "y": 0
                        }
                    }
                ]
            },
            "id": 6287259032402558,
            "layout": {
                "height": 3,
                "width": 12,
                "x": 0,
                "y": 35
            }
        }
    ]
}