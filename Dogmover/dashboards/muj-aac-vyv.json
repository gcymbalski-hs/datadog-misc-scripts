{
    "author_handle": "jking@joinhandshake.com",
    "author_name": "Jason King",
    "created_at": "2020-03-03T03:22:47.701922+00:00",
    "description": "",
    "id": "muj-aac-vyv",
    "is_read_only": false,
    "layout_type": "ordered",
    "modified_at": "2021-03-29T10:13:42.851779+00:00",
    "notify_list": [],
    "restricted_roles": [],
    "template_variables": [
        {
            "default": "production",
            "name": "env",
            "prefix": "env"
        }
    ],
    "title": "Importer",
    "url": "/dashboard/muj-aac-vyv/importer",
    "widgets": [
        {
            "definition": {
                "layout_type": "ordered",
                "title": "Importer Metrics",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "legend_size": "0",
                            "markers": [],
                            "requests": [
                                {
                                    "display_type": "line",
                                    "q": "max:importer.orphaned_analyzers{$env}",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": false,
                            "time": {},
                            "title": "importer.orphaned_analyzers",
                            "type": "timeseries",
                            "yaxis": {
                                "include_zero": true,
                                "label": "",
                                "max": "auto",
                                "min": "auto",
                                "scale": "linear"
                            }
                        },
                        "id": 6694991811462262
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "legend_size": "0",
                            "markers": [],
                            "requests": [
                                {
                                    "display_type": "line",
                                    "q": "max:importer.sidekiq.queue.latency{app:importer,$env}",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": false,
                            "time": {},
                            "title": "importer.sidekiq.queue.latency",
                            "type": "timeseries",
                            "yaxis": {
                                "include_zero": true,
                                "label": "",
                                "max": "auto",
                                "min": "auto",
                                "scale": "linear"
                            }
                        },
                        "id": 4272204939206381
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "legend_size": "0",
                            "markers": [],
                            "requests": [
                                {
                                    "display_type": "line",
                                    "q": "max:importer.sidekiq.queue.latency{app:importer,$env}",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": false,
                            "time": {},
                            "title": "importer.sidekiq.queue.latency - default queue",
                            "type": "timeseries",
                            "yaxis": {
                                "include_zero": true,
                                "label": "",
                                "max": "auto",
                                "min": "auto",
                                "scale": "linear"
                            }
                        },
                        "id": 2680780591338934
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "legend_size": "0",
                            "markers": [],
                            "requests": [
                                {
                                    "display_type": "line",
                                    "q": "max:importer.sidekiq.queue.size{app:importer,$env}",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": false,
                            "time": {},
                            "title": "importer.sidekiq.queue.size",
                            "type": "timeseries",
                            "yaxis": {
                                "include_zero": true,
                                "label": "",
                                "max": "auto",
                                "min": "auto",
                                "scale": "linear"
                            }
                        },
                        "id": 776598798527212
                    }
                ]
            },
            "id": 7735918785248012
        },
        {
            "definition": {
                "layout_type": "ordered",
                "title": "Traffic (production only)",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "legend_size": "0",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "q": "avg:envoy.cluster.cluster_importer_web_service_tf_importer.upstream_rq_time.95percentile{project:handshake-production}",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                },
                                {
                                    "display_type": "line",
                                    "q": "avg:envoy.cluster.cluster_importer_web_service_tf_importer.upstream_rq_time.median{project:handshake-production}",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                },
                                {
                                    "display_type": "line",
                                    "q": "avg:envoy.cluster.cluster_importer_web_service_tf_importer.upstream_rq_time.avg{project:handshake-production}",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": false,
                            "title": "Traffic Timings to production",
                            "type": "timeseries",
                            "yaxis": {
                                "include_zero": true,
                                "label": "",
                                "max": "auto",
                                "min": "auto",
                                "scale": "linear"
                            }
                        },
                        "id": 5976373499033508
                    },
                    {
                        "definition": {
                            "legend_size": "0",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "q": "avg:envoy.cluster.cluster_importer_web_service_importer.upstream_rq_time.95percentile{project:handshake-production}",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                },
                                {
                                    "display_type": "line",
                                    "q": "avg:envoy.cluster.cluster_importer_web_service_importer.upstream_rq_time.median{project:handshake-production}",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                },
                                {
                                    "display_type": "line",
                                    "q": "avg:envoy.cluster.cluster_importer_web_service_importer.upstream_rq_time.avg{project:handshake-production}",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": false,
                            "title": "Traffic Timings to production2",
                            "type": "timeseries",
                            "yaxis": {
                                "include_zero": true,
                                "label": "",
                                "max": "auto",
                                "min": "auto",
                                "scale": "linear"
                            }
                        },
                        "id": 6219455956359288
                    },
                    {
                        "definition": {
                            "legend_size": "0",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "on_right_yaxis": false,
                                    "q": "sum:envoy.cluster.cluster_importer_web_service_importer.upstream_rq_total{project:handshake-production}.as_count()",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                },
                                {
                                    "display_type": "line",
                                    "on_right_yaxis": false,
                                    "q": "sum:envoy.cluster.cluster_importer_web_service_tf_importer.upstream_rq_total{project:handshake-production}.as_count()",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": false,
                            "title": "Request Total",
                            "type": "timeseries",
                            "yaxis": {
                                "include_zero": true,
                                "label": "",
                                "max": "auto",
                                "min": "auto",
                                "scale": "linear"
                            }
                        },
                        "id": 5305183239651408
                    },
                    {
                        "definition": {
                            "legend_size": "0",
                            "requests": [
                                {
                                    "display_type": "area",
                                    "on_right_yaxis": false,
                                    "q": "sum:envoy.cluster.cluster_importer_web_service_importer.upstream_rq_4xx{project:handshake-production}.as_count()",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                },
                                {
                                    "display_type": "area",
                                    "on_right_yaxis": false,
                                    "q": "sum:envoy.cluster.cluster_importer_web_service_tf_importer.upstream_rq_4xx{project:handshake-production}.as_count()",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": false,
                            "title": "Total 4XX Requests",
                            "type": "timeseries",
                            "yaxis": {
                                "include_zero": true,
                                "label": "",
                                "max": "auto",
                                "min": "auto",
                                "scale": "linear"
                            }
                        },
                        "id": 8615302757315574
                    },
                    {
                        "definition": {
                            "legend_size": "0",
                            "requests": [
                                {
                                    "display_type": "area",
                                    "on_right_yaxis": false,
                                    "q": "sum:envoy.cluster.cluster_importer_web_service_importer.upstream_rq_5xx{project:handshake-production}.as_count()",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                },
                                {
                                    "display_type": "area",
                                    "on_right_yaxis": false,
                                    "q": "sum:envoy.cluster.cluster_importer_web_service_tf_importer.upstream_rq_5xx{project:handshake-production}.as_count()",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": false,
                            "title": "Total 5XX Requests",
                            "type": "timeseries",
                            "yaxis": {
                                "include_zero": true,
                                "label": "",
                                "max": "auto",
                                "min": "auto",
                                "scale": "linear"
                            }
                        },
                        "id": 8608400385351298
                    }
                ]
            },
            "id": 5115966326947258
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "legend_size": "0",
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "q": "sum:trace.sidekiq.job.errors{$env}.as_count()",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    },
                    {
                        "display_type": "line",
                        "q": "sum:trace.sidekiq.job.hits{$env}.as_count()",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    }
                ],
                "show_legend": false,
                "time": {},
                "title": "trace.sidekiq.job.errors, trace.sidekiq.job.hits",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 7773768380139776
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "legend_size": "0",
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "q": "p99:trace.sidekiq.job{service:importer-sidekiq,$env}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    },
                    {
                        "display_type": "line",
                        "q": "p95:trace.sidekiq.job{service:importer-sidekiq,$env}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    },
                    {
                        "display_type": "line",
                        "q": "p75:trace.sidekiq.job{service:importer-sidekiq,$env}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    }
                ],
                "show_legend": false,
                "time": {},
                "title": "trace.sidekiq.job.duration.by.service.99p, trace.sidekiq.job.duration.by.serv...",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 8718543860801242
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "legend_size": "0",
                "markers": [],
                "requests": [
                    {
                        "display_type": "area",
                        "on_right_yaxis": false,
                        "q": "avg:trace.sidekiq.job.duration.by_service{cluster-name:production2} by {sublayer_service}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    }
                ],
                "show_legend": false,
                "time": {},
                "title": "[production2] average job duration by service",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 5515717003257670
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "legend_size": "0",
                "markers": [],
                "requests": [
                    {
                        "display_type": "area",
                        "on_right_yaxis": false,
                        "q": "avg:trace.sidekiq.job.duration.by_service{cluster-name:production2} by {sublayer_service}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "dog_classic"
                        }
                    }
                ],
                "show_legend": false,
                "time": {},
                "title": "[production2] average job duration by service",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 5551458966033318
        }
    ]
}